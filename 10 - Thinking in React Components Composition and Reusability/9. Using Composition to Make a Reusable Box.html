

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>React Study Guide ‚Äî Using Composition to Make a Reusable Box</title>
  <style>
    :root {
      --bg: #ffffff;
      --text: #111111;
      --muted: #555555;
      --border: #e6e6e6;
      --soft: #fafafa;
      --codebg: #f6f8fa;
    }

    /* Base */
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: Arial, Helvetica, sans-serif;
      line-height: 1.6;
      overflow-wrap: anywhere;
      word-break: break-word;
    }

    /* Single-column page */
    .page {
      max-width: 820px;
      margin: 0 auto;
      padding: 28px 22px;
    }

    header {
      border: 1px solid var(--border);
      background: var(--soft);
      padding: 16px 16px 14px;
      border-radius: 10px;
    }

    h1 {
      margin: 0 0 6px;
      font-size: 22px;
      line-height: 1.25;
      letter-spacing: 0.2px;
    }

    .subtitle {
      margin: 0;
      color: var(--muted);
      font-size: 13.5px;
    }

    main {
      margin-top: 18px;
    }

    h2 {
      margin: 18px 0 10px;
      font-size: 16.5px;
      line-height: 1.35;
      border-left: 4px solid var(--border);
      padding-left: 10px;
    }

    h3 {
      margin: 14px 0 8px;
      font-size: 14.5px;
      line-height: 1.35;
    }

    p {
      margin: 8px 0;
    }

    ul {
      margin: 8px 0 10px 20px;
      padding: 0;
    }

    li { margin: 6px 0; }

    .callout {
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 12px 12px 10px;
      margin: 12px 0;
      background: #fff;
    }

    .callout .title {
      margin: 0 0 6px;
      font-weight: 700;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }

    code, pre {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    pre {
      margin: 10px 0;
      padding: 12px;
      border: 1px solid var(--border);
      border-radius: 10px;
      background: var(--codebg);
      overflow: auto;
      white-space: pre-wrap;
      overflow-wrap: anywhere;
      word-break: break-word;
    }

    .kbd {
      font-family: inherit;
      border: 1px solid var(--border);
      border-bottom-width: 2px;
      border-radius: 6px;
      padding: 1px 6px;
      background: #fff;
      font-size: 12px;
    }

    .chips {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin: 10px 0 0;
      padding: 0;
      list-style: none;
    }

    .chip {
      border: 1px solid var(--border);
      background: #fff;
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 12.5px;
      color: var(--muted);
    }

    .hr {
      height: 1px;
      background: var(--border);
      margin: 16px 0;
    }

    footer {
      margin-top: 18px;
      color: var(--muted);
      font-size: 12.5px;
    }

    /* Print */
    @page {
      size: A4;
      margin: 16mm;
    }

    @media print {
      body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
      .page { max-width: none; padding: 0; }
      header { border-radius: 0; }
      a { color: inherit; text-decoration: none; }
      .no-print { display: none !important; }
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <h1>üçø React Study Guide: Using Composition to Make a Reusable <code>Box</code></h1>
      <p class="subtitle">Topic: Component Composition (children), removing duplication, and building reusable UI containers (usePopcorn project)</p>
      <ul class="chips" aria-label="Key tags">
        <li class="chip">üß© composition</li>
        <li class="chip">üë∂ children prop</li>
        <li class="chip">üß† state + UI toggle</li>
        <li class="chip">üßº DRY / refactor</li>
        <li class="chip">üß± reusable container</li>
      </ul>
    </header>

    <main>
      <section>
        <h2>üéØ Goal of this lecture</h2>
        <p>
          You already used component composition to reduce prop drilling and build a cleaner layout. Now you‚Äôll use the same idea
          to create a reusable <strong>Box</strong> component.
        </p>
        <div class="callout">
          <p class="title">‚úÖ What ‚Äúreusable Box‚Äù means</p>
          <p>
            A single component that contains the shared UI + behavior (toggle open/close), and accepts
            <strong>any content</strong> via the <code>children</code> prop.
          </p>
        </div>
      </section>

      <section>
        <h2>üîç Why create a reusable <code>Box</code>?</h2>
        <p>
          In the project, <code>ListBox</code> and <code>WatchedBox</code> were almost identical:
        </p>
        <ul>
          <li>Both have an <code>isOpen</code> state for collapsing/expanding.</li>
          <li>Both render a wrapper <code>&lt;div class="box"&gt;</code>.</li>
          <li>Both use the same toggle button.</li>
          <li>Both conditionally render their content based on <code>isOpen</code>.</li>
        </ul>

        <div class="callout">
          <p class="title">üß† Rule of thumb</p>
          <p>
            If you copy-paste the same state + JSX structure twice, it‚Äôs usually a good candidate for a reusable component.
          </p>
        </div>
      </section>

      <section>
        <h2>üß© Key idea: composition via <code>children</code></h2>
        <p>
          Composition lets you build a component with an ‚Äúempty slot‚Äù that can be filled by whatever you pass between the opening
          and closing tags.
        </p>
        <div class="callout">
          <p class="title">üí° Mental model</p>
          <p>
            <strong><code>children</code> is the content inside the component tag.</strong> The component doesn‚Äôt need to know what the children are
            ahead of time.
          </p>
        </div>
      </section>

      <section>
        <h2>üß± The reusable <code>Box</code> component (pattern)</h2>
        <p>
          This is the core reusable pattern: a container that manages its own open/close state and renders children conditionally.
        </p>
        <pre><code>function Box({ children }) {
  const [isOpen, setIsOpen] = useState(true);

  return (
    &lt;div className="box"&gt;
      &lt;button
        className="btn-toggle"
        onClick={() =&gt; setIsOpen((open) =&gt; !open)}
        aria-label={isOpen ? "Collapse" : "Expand"}
      &gt;
        {isOpen ? "‚Äì" : "+"}
      &lt;/button&gt;

      {isOpen &amp;&amp; children}
    &lt;/div&gt;
  );
}</code></pre>

        <div class="callout">
          <p class="title">‚úÖ What this buys you</p>
          <ul>
            <li>One place to maintain toggle logic (no duplication).</li>
            <li>Works for 1 child or multiple children.</li>
            <li>Makes layout in the parent component clearer.</li>
          </ul>
        </div>
      </section>

      <section>
        <h2>üß© How you use it in <code>App</code></h2>
        <p>
          Instead of keeping separate <code>ListBox</code> and <code>WatchedBox</code> components with the same logic, you can reuse <code>Box</code>
          and pass different children:
        </p>

        <pre><code>&lt;Main&gt;
  &lt;Box&gt;
    &lt;MovieList movies={movies} /&gt;
  &lt;/Box&gt;

  &lt;Box&gt;
    &lt;WatchedSummary watched={watched} /&gt;
    &lt;WatchedMoviesList watched={watched} /&gt;
  &lt;/Box&gt;
&lt;/Main&gt;</code></pre>

        <div class="callout">
          <p class="title">üìå Important note</p>
          <p>
            If <code>watched</code> was previously defined inside <code>WatchedBox</code>, it must move out to a parent (often <code>App</code>) so it can be passed
            into the children components.
          </p>
        </div>
      </section>

      <section>
        <h2>üß† What to watch out for (common mistakes)</h2>
        <div class="grid">
          <div class="callout">
            <p class="title">‚ùå Rendering the wrong thing</p>
            <p>
              React can‚Äôt render plain objects. When conditionally rendering, render JSX or <code>children</code>, not an object wrapper.
            </p>
          </div>
          <div class="callout">
            <p class="title">‚ùå Forgetting <code>return</code></p>
            <p>
              If a component function doesn‚Äôt return JSX, nothing shows up. Watch out when refactoring quickly.
            </p>
          </div>
          <div class="callout">
            <p class="title">‚ùå Wrong state location</p>
            <p>
              Keep state where it‚Äôs needed. Shared data (like <code>watched</code>) often needs to live higher so multiple components can use it.
            </p>
          </div>
          <div class="callout">
            <p class="title">‚ö†Ô∏è Don‚Äôt declare components inside components</p>
            <p>
              Always define components at the top level (or at least outside other component bodies). This avoids subtle bugs and performance issues.
            </p>
          </div>
        </div>
      </section>

      <section>
        <h2>üß™ Quick practice tasks</h2>
        <ul>
          <li>‚úÖ Add a prop like <code>defaultOpen</code> to control whether the box starts open or closed.</li>
          <li>‚úÖ Add an optional <code>title</code> prop and render a small heading inside the box.</li>
          <li>‚úÖ Add <code>className</code> prop support so you can style different boxes slightly differently.</li>
          <li>‚úÖ Add keyboard accessibility: toggle on <span class="kbd">Enter</span> or <span class="kbd">Space</span>.</li>
        </ul>
      </section>

      <div class="hr"></div>

      <section>
        <h2>üßæ Summary / Cheatsheet</h2>
        <ul>
          <li>üß© <strong>Composition</strong> = combine components by passing components as <code>children</code> (or as props).</li>
          <li>üß± A reusable container like <code>Box</code> is perfect for shared UI + behavior (toggle logic).</li>
          <li>üßº Refactoring duplicate components into one reusable component keeps your codebase simpler.</li>
          <li>üß† This improves readability: the parent component shows the app structure more clearly.</li>
        </ul>
      </section>

      <footer>
        <p>
          Tip: When printing, use your browser‚Äôs print dialog and select A4. The page is designed for clean A4 output.
        </p>
      </footer>
    </main>
  </div>
</body>
</html>