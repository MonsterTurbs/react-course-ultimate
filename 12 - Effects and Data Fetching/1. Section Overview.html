

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>React â€” Effects & Data Fetching (Section Overview Study Guide)</title>
  <style>
    :root{
      --bg:#ffffff;
      --text:#111111;
      --muted:#555555;
      --border:#e6e6e6;
      --soft:#f7f7f8;
      --chip:#f1f5f9;
      --accent:#0b57d0;
      --good:#0f766e;
      --warn:#b45309;
    }

    *{box-sizing:border-box;}
    html,body{height:100%;}
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family: Arial, Helvetica, sans-serif;
      line-height:1.6;
      overflow-wrap:anywhere;
      word-break:break-word;
    }

    /* Single-column, print-friendly layout */
    .page{
      max-width: 820px;
      margin: 0 auto;
      padding: 28px 22px;
    }

    header{
      border:1px solid var(--border);
      background: linear-gradient(180deg, #fff, var(--soft));
      border-radius: 14px;
      padding: 18px 18px 14px;
    }

    h1{
      font-size: 22px;
      margin: 0 0 6px;
      letter-spacing: .2px;
    }

    .subtitle{
      margin: 0;
      color: var(--muted);
      font-size: 13.5px;
    }

    .meta{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top: 10px;
    }

    .chip{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding: 6px 10px;
      border-radius: 999px;
      background: var(--chip);
      border: 1px solid var(--border);
      font-size: 12.5px;
      color: var(--text);
      white-space: nowrap;
    }

    main{margin-top: 14px;}

    section{
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 16px 16px 14px;
      margin: 12px 0;
      background: #fff;
    }

    h2{
      font-size: 16.5px;
      margin: 0 0 10px;
    }

    h3{
      font-size: 14.5px;
      margin: 14px 0 8px;
    }

    p{margin: 8px 0;}

    ul{
      margin: 8px 0 0;
      padding-left: 20px;
    }

    li{margin: 6px 0;}

    .callout{
      border-left: 4px solid var(--accent);
      background: #f8fbff;
      padding: 10px 12px;
      border-radius: 10px;
      margin: 10px 0;
    }

    .callout.good{border-left-color: var(--good); background:#f2fbf9;}
    .callout.warn{border-left-color: var(--warn); background:#fff7ed;}

    .keyterm{
      display:inline-block;
      padding: 1px 6px;
      border: 1px solid var(--border);
      border-radius: 8px;
      background: #fff;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12.5px;
    }

    pre{
      margin: 10px 0;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: #0b1020;
      color: #e8eefc;
      overflow:auto;
      line-height: 1.5;
      font-size: 12.5px;
    }

    code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }

    .box{
      border: 1px dashed var(--border);
      border-radius: 12px;
      padding: 12px;
      background: #fff;
    }

    footer{
      margin-top: 14px;
      color: var(--muted);
      font-size: 12.5px;
      text-align: center;
    }

    /* Print settings */
    @page{ size: A4; margin: 14mm; }
    @media print{
      body{ background:#fff; }
      .page{ max-width: none; padding: 0; }
      header, section{ border-color: #d7d7d7; box-shadow: none !important; }
      a{ color: inherit; text-decoration: none; }
      pre{ white-space: pre-wrap; word-break: break-word; }
      section{ break-inside: avoid; page-break-inside: avoid; }
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <h1>ğŸ“¡ Effects & Data Fetching â€” Section Overview (Study Guide)</h1>
      <p class="subtitle">Topic: <strong>side effects</strong> in React, focusing on <span class="keyterm">useEffect</span> and fetching data from APIs.</p>
      <div class="meta">
        <span class="chip">ğŸ§  Goal: Understand effects</span>
        <span class="chip">ğŸŒ Focus: API data fetching</span>
        <span class="chip">ğŸ§¹ Includes: cleanup</span>
        <span class="chip">ğŸ¿ Project: usePopcorn</span>
      </div>
    </header>

    <main>
      <section>
        <h2>1) Big idea of this section</h2>
        <p>Most React apps fetch data from an API (think: movies, users, products, analytics). Thatâ€™s why <strong>data fetching</strong> is a core skill for real-world web apps. âœ…</p>
        <div class="callout">
          <p><strong>Key point:</strong> One common way to fetch data in React is <strong>inside an effect</strong> using <span class="keyterm">useEffect</span>.</p>
        </div>
      </section>

      <section>
        <h2>2) What is a â€œside effectâ€ in React?</h2>
        <p>In React, your componentâ€™s render should be â€œpureâ€ (just compute UI). A <strong>side effect</strong> is anything that interacts with the outside world.</p>
        <div class="grid">
          <div class="box">
            <h3>âœ… Examples of side effects</h3>
            <ul>
              <li>ğŸ“¡ Fetching data from an API</li>
              <li>â±ï¸ Setting timers (<code>setTimeout</code>, <code>setInterval</code>)</li>
              <li>ğŸ§© Subscribing/unsubscribing to events (e.g., <code>addEventListener</code>)</li>
              <li>ğŸ—ƒï¸ Reading/writing browser APIs (localStorage, geolocation, etc.)</li>
            </ul>
          </div>
          <div class="box">
            <h3>ğŸ§  Why React cares</h3>
            <ul>
              <li>React may render components many times.</li>
              <li>If side effects run during render, you can get bugs, duplicate requests, and messy state.</li>
              <li>So React gives us a safe place to run effects: <span class="keyterm">useEffect</span>.</li>
            </ul>
          </div>
        </div>
      </section>

      <section>
        <h2>3) What you will learn (in plain terms)</h2>
        <ul>
          <li>ğŸª <strong>The <span class="keyterm">useEffect</span> Hook:</strong> what it is and why it exists</li>
          <li>ğŸ§­ <strong>When effects run:</strong> on mount, on updates, and how dependency arrays work</li>
          <li>ğŸ§¹ <strong>Effect cleanup:</strong> how to â€œundoâ€ work (unsubscribe, cancel, clear timers)</li>
          <li>ğŸ“¦ <strong>Real-world feel:</strong> loading external data makes apps feel alive (not just static UI)</li>
        </ul>
      </section>

      <section>
        <h2>4) Quick mental model for <span class="keyterm">useEffect</span></h2>
        <p>Think of <span class="keyterm">useEffect</span> as: â€œAfter React paints UI, run this side work.â€ ğŸ› ï¸</p>

        <div class="callout good">
          <p><strong>Rule of thumb:</strong> If something should happen <em>because the UI is on the screen</em> or <em>because certain data changed</em>, itâ€™s often an effect.</p>
        </div>

        <h3>Typical pattern (data fetching)</h3>
        <pre><code>import { useEffect, useState } from "react";

function MovieSearch({ query }) {
  const [movies, setMovies] = useState([]);
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState(null);

  useEffect(() =&gt; {
    if (!query) {
      setMovies([]);
      return;
    }

    const controller = new AbortController();

    async function fetchMovies() {
      try {
        setIsLoading(true);
        setError(null);

        const res = await fetch(
          `https://example.com/movies?q=${encodeURIComponent(query)}`,
          { signal: controller.signal }
        );

        if (!res.ok) throw new Error("Request failed");

        const data = await res.json();
        setMovies(data.results);
      } catch (err) {
        // Ignore abort errors
        if (err.name !== "AbortError") setError(err.message);
      } finally {
        setIsLoading(false);
      }
    }

    fetchMovies();

    // âœ… Cleanup: cancel in-flight request when query changes/unmounts
    return () =&gt; controller.abort();
  }, [query]);

  // Render UI based on movies/isLoading/error...
  return null;
}</code></pre>

        <div class="callout warn">
          <p><strong>Common beginner mistake:</strong> fetching directly inside render (top-level of component). That can fire multiple times and create duplicate requests.</p>
        </div>
      </section>

      <section>
        <h2>5) Why cleanup matters</h2>
        <p>Cleanup prevents bugs and memory leaks when:</p>
        <ul>
          <li>ğŸ” Dependencies change (effect re-runs)</li>
          <li>âŒ Component unmounts (user navigates away, tab changes, etc.)</li>
        </ul>
        <p>Examples of cleanup tasks:</p>
        <ul>
          <li>â±ï¸ <code>clearTimeout</code> / <code>clearInterval</code></li>
          <li>ğŸ§© <code>removeEventListener</code></li>
          <li>ğŸ“¡ cancel fetch using <code>AbortController</code></li>
          <li>ğŸ”Œ unsubscribe from websockets or subscriptions</li>
        </ul>
      </section>

      <section>
        <h2>6) What to do next (how to study this section effectively)</h2>
        <ul>
          <li>ğŸ“ As you watch: always ask â€œWhat triggers this effect? What does it depend on?â€</li>
          <li>ğŸ” Track dependencies: what values are inside the effect that come from outside?</li>
          <li>ğŸ§ª Practice: intentionally cause re-runs (change state/props) and observe the behavior.</li>
          <li>ğŸ§¹ Always check: â€œDo I need cleanup here?â€</li>
        </ul>
      </section>
    </main>

    <footer>
      Print tip: Open in browser â†’ <strong>Ctrl/Cmd + P</strong> â†’ Save as PDF (A4). This page is designed for clean single-column printing.
    </footer>
  </div>
</body>
</html>