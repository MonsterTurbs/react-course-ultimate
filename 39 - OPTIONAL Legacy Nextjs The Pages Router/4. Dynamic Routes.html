<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Next.js Pages Router â€” Dynamic Routes (Study Guide)</title>
  <style>
    :root {
      --bg: #ffffff;
      --text: #111111;
      --muted: #555555;
      --border: #e6e6e6;
      --soft: #f7f7f7;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: Arial, Helvetica, sans-serif;
      line-height: 1.6;
      overflow-wrap: anywhere;
      word-break: normal;
    }

    /* Single-column page container */
    .page {
      max-width: 820px;
      margin: 0 auto;
      padding: 28px 22px;
    }

    header {
      border-bottom: 2px solid var(--border);
      padding-bottom: 12px;
      margin-bottom: 18px;
    }

    h1 {
      font-size: 24px;
      margin: 0 0 6px 0;
      letter-spacing: 0.2px;
    }

    .subtitle {
      margin: 0;
      color: var(--muted);
      font-size: 13.5px;
    }

    .meta {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .chip {
      display: inline-block;
      border: 1px solid var(--border);
      background: #fff;
      padding: 5px 10px;
      border-radius: 999px;
      font-size: 12px;
      color: var(--muted);
    }

    h2 {
      font-size: 18px;
      margin: 18px 0 10px;
    }

    h3 {
      font-size: 15.5px;
      margin: 14px 0 8px;
    }

    p { margin: 10px 0; }

    ul { margin: 8px 0 12px 20px; }
    li { margin: 6px 0; }

    .callout {
      border: 1px solid var(--border);
      background: var(--soft);
      border-radius: 10px;
      padding: 12px 12px;
      margin: 12px 0;
    }

    .callout strong { display: inline-block; margin-bottom: 4px; }

    .grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }

    .note {
      color: var(--muted);
      font-size: 13.5px;
      margin-top: 6px;
    }

    pre {
      background: #f5f5f5;
      color: #111111;
      padding: 12px;
      border-radius: 10px;
      overflow: auto;
      margin: 10px 0 14px;
      border: 1px solid #2a2a2a;
    }

    code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12.5px;
    }

    .kbd {
      font-family: inherit;
      border: 1px solid var(--border);
      background: #fff;
      border-bottom-width: 2px;
      padding: 1px 6px;
      border-radius: 6px;
      font-size: 12.5px;
      color: var(--text);
      white-space: nowrap;
    }

    .divider {
      height: 1px;
      background: var(--border);
      margin: 16px 0;
    }

    /* Print styles (A4) */
    @page { size: A4; margin: 14mm; }

    @media print {
      body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
      .page { max-width: none; padding: 0; }

      /* Avoid ink-heavy blocks */
      pre {
        background: #ffffff;
        color: #111111;
        border: 1px solid #cfcfcf;
      }

      /* Remove automatic link URLs when printing */
      a[href]::after { content: "" !important; }
      a { color: inherit; text-decoration: none; }

      /* Keep key blocks intact across page breaks */
      header, .callout, pre { break-inside: avoid; page-break-inside: avoid; }
      h2, h3 { break-after: avoid; page-break-after: avoid; }

      /* Slightly tighter text for paper */
      body { font-size: 12.2px; line-height: 1.55; }
      h1 { font-size: 20px; }
      h2 { font-size: 16px; }
      h3 { font-size: 14px; }
    }
  </style>
</head>

<body>
  <main class="page">
    <header>
      <h1>ğŸ§­ Next.js Pages Router â€” Dynamic Routes</h1>
      <p class="subtitle">Reviewer / study guide based on your lecture transcript (beginner-friendly, print-ready A4, single column).</p>
      <div class="meta">
        <span class="chip">âœ… File-based routing</span>
        <span class="chip">ğŸ§© Dynamic route segments</span>
        <span class="chip">ğŸª useRouter()</span>
        <span class="chip">âš ï¸ next/router vs next/navigation</span>
      </div>
    </header>

    <section>
      <h2>ğŸ¯ What youâ€™re building</h2>
      <p>
        You want a URL like <span class="kbd">/cabins/90</span> where <span class="kbd">90</span> is a <strong>dynamic cabin ID</strong>.
        In the <strong>Pages Router</strong>, you do this with <strong>file names</strong> (not <code>page.js</code> folders like App Router).
      </p>

      <div class="callout">
        <strong>Big idea âœ…</strong>
        <div>
          In <strong>Pages Router</strong>, your route structure comes from the <strong>pages/</strong> folder.
          A file named <code>[param].js</code> creates a <strong>dynamic route segment</strong>.
        </div>
      </div>
    </section>

    <section>
      <h2>ğŸ§  Quick refresher: App Router vs Pages Router</h2>
      <div class="grid">
        <div class="callout">
          <strong>App Router (new)</strong>
          <ul>
            <li>Routes are folders, and the UI lives in <code>page.js</code></li>
            <li>Dynamic segment is usually a <em>folder</em>: <code>app/cabins/[cabinId]/page.js</code></li>
            <li>Uses <code>next/navigation</code> for routing hooks</li>
          </ul>
        </div>

        <div class="callout">
          <strong>Pages Router (legacy)</strong>
          <ul>
            <li>Routes are <em>files</em>: <code>pages/cabins.js</code> â†’ <span class="kbd">/cabins</span></li>
            <li>Dynamic segment is a <em>file name</em>: <code>pages/cabins/[cabinId].js</code> â†’ <span class="kbd">/cabins/:cabinId</span></li>
            <li>Uses <code>next/router</code> for routing hooks</li>
          </ul>
        </div>
      </div>

      <p class="note">ğŸ™‚ The lecture emphasizes: <strong>use <code>next/router</code> in Pages Router</strong> and <strong>use <code>next/navigation</code> in App Router</strong>.</p>
    </section>

    <section>
      <h2>ğŸ§± Step-by-step: Create the dynamic route</h2>

      <h3>1) Create the folder for the resource</h3>
      <p>
        Since the URL should start with <span class="kbd">/cabins</span>, create a folder named <code>cabins</code> inside <code>pages</code>:
      </p>
      <pre><code>pages/
  cabins/
</code></pre>

      <h3>2) Add a dynamic route file</h3>
      <p>
        The dynamic part is the ID. In Pages Router you do it with square brackets in the <strong>file name</strong>:
      </p>
      <pre><code>pages/
  cabins/
    [cabinId].js
</code></pre>

      <div class="callout">
        <strong>Why <code>[cabinId]</code>? âœ…</strong>
        <div>
          The name inside the brackets becomes the param key. So Next.js will expose it as <code>cabinId</code>.
        </div>
      </div>

      <h3>3) Export a page component</h3>
      <p>
        The file must export a React component (the page). Example structure:
      </p>
      <pre><code>// pages/cabins/[cabinId].js
export default function Cabin() {
  return &lt;div&gt;Cabin page&lt;/div&gt;;
}
</code></pre>

      <h3>4) Read the dynamic param using <code>useRouter()</code></h3>
      <p>
        In Pages Router, you read route params using <code>useRouter</code> from <code>next/router</code>:
      </p>
      <pre><code>import { useRouter } from "next/router";

export default function Cabin() {
  const router = useRouter();
  const cabinId = router.query.cabinId;

  return &lt;h1&gt;Cabin {cabinId}&lt;/h1&gt;;
}
</code></pre>

      <div class="callout">
        <strong>âš ï¸ Important import</strong>
        <div>
          <ul>
            <li>Pages Router: <code>import { useRouter } from "next/router";</code></li>
            <li>App Router: routing hooks come from <code>next/navigation</code></li>
          </ul>
        </div>
      </div>

      <h3>5) Test it in the browser</h3>
      <p>
        Visit any of these and it should work:
      </p>
      <ul>
        <li><span class="kbd">/cabins/88</span> â†’ shows <strong>88</strong></li>
        <li><span class="kbd">/cabins/123</span> â†’ shows <strong>123</strong></li>
      </ul>

      <p class="note">ğŸ˜„ As the transcript says: â€œItâ€™s gonna work whatever ID we pass in.â€</p>
    </section>

    <section>
      <h2>ğŸ› ï¸ Common beginner gotchas (and fixes)</h2>

      <div class="callout">
        <strong>1) Param might be undefined at first render</strong>
        <div>
          <p>
            In the Pages Router, <code>router.query</code> can be empty on the first render (especially during hydration).
            So you may briefly see <code>undefined</code>.
          </p>
          <p><strong>Simple fix âœ…</strong> â€” render a fallback:</p>
          <pre><code>import { useRouter } from "next/router";

export default function Cabin() {
  const { query, isReady } = useRouter();

  if (!isReady) return &lt;p&gt;Loading cabinâ€¦ â³&lt;/p&gt;;

  return &lt;h1&gt;Cabin {query.cabinId}&lt;/h1&gt;;
}
</code></pre>
          <p class="note">ğŸ™‚ This is optional, but it prevents confusing UI while the router initializes.</p>
        </div>
      </div>

      <div class="callout">
        <strong>2) Wrong hook import</strong>
        <div>
          <p>
            If you accidentally import from <code>next/navigation</code> in Pages Router, things will not behave as expected.
            Use <code>next/router</code> here.
          </p>
        </div>
      </div>

      <div class="callout">
        <strong>3) URL structure consistency</strong>
        <div>
          <p>
            The lecture recommends the common REST-style pattern:
            <span class="kbd">/cabins</span> (collection) + <span class="kbd">/cabins/:id</span> (single item).
          </p>
        </div>
      </div>
    </section>

    <section>
      <h2>ğŸ§ª Mini self-check (quick quiz)</h2>
      <ol>
        <li>âœ… What file creates the route <span class="kbd">/cabins</span>?</li>
        <li>âœ… What file creates the route <span class="kbd">/cabins/90</span>?</li>
        <li>âœ… In Pages Router, which package provides <code>useRouter()</code>?</li>
        <li>âœ… If your param is named <code>[cabinId].js</code>, where do you read it?</li>
      </ol>

      <div class="callout">
        <strong>Answer key ğŸ§ </strong>
        <ul>
          <li><code>pages/cabins.js</code> or <code>pages/cabins/index.js</code> (depending on your structure)</li>
          <li><code>pages/cabins/[cabinId].js</code></li>
          <li><code>next/router</code></li>
          <li><code>router.query.cabinId</code></li>
        </ul>
      </div>
    </section>

    <div class="divider"></div>

    <section>
      <h2>âœ… Key takeaway</h2>
      <p>
        In the <strong>Next.js Pages Router</strong>, <strong>dynamic routes</strong> are created by naming a file with square brackets,
        like <code>[cabinId].js</code>, and reading the value using <code>useRouter()</code> from <code>next/router</code>.
      </p>
      <p class="note">ğŸ Next lecture: youâ€™ll implement the layout again.</p>
    </section>
  </main>
</body>
</html>
