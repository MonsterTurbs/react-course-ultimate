<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Next.js App Router â€” Not Found Errors (Reviewer)</title>
  <style>
    :root{
      --bg:#ffffff;
      --text:#111111;
      --muted:#555555;
      --border:#e6e6e6;
      --soft:#f7f7f8;
      --chip:#eef2ff;
      --accent:#1a73e8;
      --codebg:#0b1020;
      --codetext:#e8eefc;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family: Arial, Helvetica, sans-serif;
      line-height:1.6;
      overflow-wrap:anywhere;
      word-break:break-word;
    }

    /* Single-column printable page */
    .page{
      max-width: 820px;
      margin: 0 auto;
      padding: 28px 22px 48px;
    }

    header{
      border-bottom:1px solid var(--border);
      padding-bottom:14px;
      margin-bottom:18px;
    }

    h1{
      margin:0 0 8px;
      font-size: 24px;
      letter-spacing: .2px;
    }

    .subtitle{
      margin:0;
      color:var(--muted);
      font-size: 14px;
    }

    h2{
      margin: 20px 0 8px;
      font-size: 18px;
    }

    h3{
      margin: 14px 0 6px;
      font-size: 15px;
    }

    p{ margin: 8px 0; }

    .callout{
      border:1px solid var(--border);
      background: var(--soft);
      padding: 12px 12px;
      border-radius: 10px;
      margin: 12px 0;
    }

    .chips{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin:10px 0 0;
      padding:0;
      list-style:none;
    }

    .chip{
      background: var(--chip);
      border:1px solid #dbe2ff;
      padding: 4px 9px;
      border-radius: 999px;
      font-size: 12px;
      color:#1f2a6d;
    }

    .toc{
      border:1px solid var(--border);
      border-radius: 10px;
      padding: 12px;
      margin: 14px 0 18px;
    }

    .toc ol{ margin: 8px 0 0 20px; }
    .toc a{ color: inherit; text-decoration: none; }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }

    .card{
      border:1px solid var(--border);
      border-radius:10px;
      padding:12px;
      background:#fff;
    }

    .label{
      display:inline-block;
      font-size:12px;
      color:var(--muted);
      margin-bottom: 6px;
    }

    pre{
      margin: 10px 0;
      padding: 12px;
      border-radius: 10px;
      background: var(--codebg);
      color: var(--codetext);
      overflow:auto;
      border: 1px solid rgba(255,255,255,.12);
      white-space: pre-wrap;
      word-break: break-word;
    }

    code{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }

    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12px;
      border: 1px solid var(--border);
      background: #fff;
      border-bottom-width: 2px;
      padding: 1px 6px;
      border-radius: 6px;
      display:inline-block;
      vertical-align: baseline;
    }

    .checklist{
      margin: 8px 0 0;
      padding-left: 18px;
    }

    .checklist li{ margin: 6px 0; }

    .muted{ color: var(--muted); }

    .footer{
      margin-top: 22px;
      padding-top: 14px;
      border-top: 1px solid var(--border);
      color: var(--muted);
      font-size: 12px;
    }

    /* Print rules (A4 + no URL printing) */
    @page { size: A4; margin: 14mm 14mm; }

    @media print{
      body{ -webkit-print-color-adjust: exact; print-color-adjust: exact; }
      .page{ max-width: none; margin: 0; padding: 0; }

      /* Remove link styling and prevent URL annotations */
      a{ color: inherit !important; text-decoration: none !important; }
      a[href]::after{ content: "" !important; }

      /* Avoid awkward breaks */
      h1, h2, h3{ break-after: avoid; page-break-after: avoid; }
      pre, .card, .callout, .toc{ break-inside: avoid; page-break-inside: avoid; }
    }
  </style>
</head>
<body>
  <main class="page">
    <header>
      <h1>ğŸ§­ Next.js App Router â€” Not Found Errors (Reviewer)</h1>
      <p class="subtitle">Focus: <strong>not-found.js</strong> + manually triggering 404 via <strong>notFound()</strong> + nested (route-level) Not Found pages</p>
      <ul class="chips" aria-label="Key topics">
        <li class="chip">404 UI customization</li>
        <li class="chip">not-found.js convention</li>
        <li class="chip">next/navigation notFound()</li>
        <li class="chip">nested Not Found per route segment</li>
      </ul>
    </header>

    <section class="toc" aria-label="Table of contents">
      <strong>Table of Contents</strong>
      <ol>
        <li><a href="#goal">Goal and mental model</a></li>
        <li><a href="#auto">Automatic 404 (route does not exist)</a></li>
        <li><a href="#custom">Custom global Not Found UI (not-found.js)</a></li>
        <li><a href="#manual">Manual Not Found for missing data (notFound())</a></li>
        <li><a href="#nested">More specific Not Found per route segment</a></li>
        <li><a href="#compare">Not Found vs Error Boundary (error.js)</a></li>
        <li><a href="#checklist">Quick checklist</a></li>
      </ol>
    </section>

    <section id="goal">
      <h2>ğŸ¯ Goal and mental model</h2>
      <div class="callout">
        <p><strong>Not Found</strong> is for situations where the user asked for a page/resource that doesnâ€™t exist (route missing OR data missing). Think of it as: â€œNothing to show here.â€</p>
        <p class="muted">Example: a cabin detail page is requested with an ID that isnâ€™t in the database.</p>
      </div>
    </section>

    <section id="auto">
      <h2>1) ğŸš« Automatic 404 when a route doesnâ€™t exist</h2>
      <div class="card">
        <span class="label">What triggers it?</span>
        <p>When the user navigates to a URL that <em>has no matching route</em> in your App Router folder structure (e.g., <code>/does-not-exist</code>).</p>
        <span class="label">Default behavior</span>
        <p>Next.js shows its default 404 page. In production it looks cleaner than in dev, but it will not match your appâ€™s branding.</p>
      </div>
    </section>

    <section id="custom">
      <h2>2) ğŸ¨ Custom global Not Found UI with <code>not-found.js</code></h2>
      <div class="callout">
        <p>To replace the default Next.js 404 page, create a file named <strong>not-found.js</strong> inside the <strong>app</strong> folder.</p>
        <p class="muted">This file is a convention. Next.js detects it automatically.</p>
      </div>

      <h3>âœ… Example: <code>app/not-found.js</code></h3>
      <pre><code>import Link from "next/link";

export default function NotFound() {
  return (
    &lt;main style={{ padding: 24 }}&gt;
      &lt;h1&gt;ğŸ˜µ Page not found&lt;/h1&gt;
      &lt;p&gt;The page youâ€™re looking for doesnâ€™t exist.&lt;/p&gt;
      &lt;p&gt;
        &lt;Link href="/"&gt;â† Back to home&lt;/Link&gt;
      &lt;/p&gt;
    &lt;/main&gt;
  );
}</code></pre>

      <div class="card">
        <span class="label">Beginner tip</span>
        <p>You can design this page to match your UI system (Tailwind, CSS Modules, etc.). Use <code>Link</code> so navigation stays fast (client transitions).</p>
      </div>
    </section>

    <section id="manual">
      <h2>3) ğŸ§© Manual Not Found when data doesnâ€™t exist (<code>notFound()</code>)</h2>
      <div class="callout">
        <p><strong>Scenario:</strong> The route exists (e.g., <code>/cabins/[cabinId]</code>), but the <em>data</em> is missing (invalid or deleted ID).</p>
        <p>Instead of letting the app crash (e.g., destructuring <code>null</code>), you intentionally show the Not Found UI by calling <code>notFound()</code>.</p>
      </div>

      <h3>âœ… Example: in a dynamic route page</h3>
      <pre><code>// app/cabins/[cabinId]/page.js
import { notFound } from "next/navigation";
import { getCabin } from "@/app/_lib/data-service";

export default async function Page({ params }) {
  const cabin = await getCabin(params.cabinId);

  // If the cabin doesnâ€™t exist, show the Not Found page
  if (!cabin) notFound();

  return (
    &lt;main&gt;
      &lt;h1&gt;ğŸ¡ Cabin {cabin.name}&lt;/h1&gt;
      {/* rest of the UI */}
    &lt;/main&gt;
  );
}</code></pre>

      <div class="card">
        <span class="label">Why this is better</span>
        <ul class="checklist">
          <li>Prevents ugly runtime errors (e.g., â€œCannot destructure property â€˜nameâ€™ of nullâ€).</li>
          <li>Shows a user-friendly message and gives navigation options.</li>
          <li>Models the real-world meaning: the cabin resource does not exist.</li>
        </ul>
      </div>

      <div class="callout">
        <p><strong>Important:</strong> The import must be a <em>named export</em>:</p>
        <pre><code>import { notFound } from "next/navigation";</code></pre>
        <p class="muted">If you try <code>import notFound from "next/navigation"</code>, youâ€™ll get â€œnotFound is not a functionâ€.</p>
      </div>
    </section>

    <section id="nested">
      <h2>4) ğŸ§± Route-specific Not Found pages (nested <code>not-found.js</code>)</h2>
      <div class="callout">
        <p>You can create a more specific Not Found UI for just one route segment (like cabins) by placing another <code>not-found.js</code> deeper in the folder tree.</p>
        <p class="muted">Rule of thumb: â€œclosestâ€ Not Found file wins â€” similar to <code>loading.js</code> and nested <code>layout.js</code>.</p>
      </div>

      <h3>âœ… Example: only for cabin detail routes</h3>
      <pre><code>// app/cabins/[cabinId]/not-found.js
import Link from "next/link";

export default function NotFound() {
  return (
    &lt;main style={{ padding: 24 }}&gt;
      &lt;h1&gt;ğŸ›Œ This cabin canâ€™t be found&lt;/h1&gt;
      &lt;p&gt;The cabin ID might be invalid, or the cabin may have been removed.&lt;/p&gt;
      &lt;p&gt;
        &lt;Link href="/cabins"&gt;â† Back to all cabins&lt;/Link&gt;
      &lt;/p&gt;
    &lt;/main&gt;
  );
}</code></pre>

      <div class="card">
        <span class="label">When to use nested Not Found</span>
        <p>Use nested Not Found pages when the â€œmissing thingâ€ is domain-specific and you want a better message and better navigation (e.g., â€œBack to all cabinsâ€ instead of â€œBack homeâ€).</p>
      </div>
    </section>

    <section id="compare">
      <h2>5) ğŸ§  Not Found vs Error Boundary (<code>error.js</code>)</h2>
      <div class="grid">
        <div class="card">
          <span class="label">âœ… Use Not Found whenâ€¦</span>
          <ul class="checklist">
            <li>The route doesnâ€™t exist (<code>/random</code>).</li>
            <li>The route exists but the requested resource is missing (<code>cabinId</code> not in DB).</li>
            <li>You want to communicate â€œno result / missing pageâ€ instead of â€œsomething brokeâ€.</li>
          </ul>
        </div>
        <div class="card">
          <span class="label">ğŸ§¯ Use error.js whenâ€¦</span>
          <ul class="checklist">
            <li>Your code throws during render (bug, unexpected null, etc.).</li>
            <li>A data request fails unexpectedly (e.g., network error, server crash).</li>
            <li>You want a recover action (retry/reset) using the error boundary reset function.</li>
          </ul>
        </div>
      </div>

      <div class="callout">
        <p>Quick intuition: <strong>Not Found = valid request, no matching content.</strong> <strong>Error = something broke.</strong></p>
      </div>
    </section>

    <section id="checklist">
      <h2>âœ… Quick checklist</h2>
      <ul class="checklist">
        <li>ğŸ“ Create <code>app/not-found.js</code> to override the default 404.</li>
        <li>ğŸ§© For missing DB records, call <code>notFound()</code> after fetching data.</li>
        <li>ğŸ§± Add nested <code>not-found.js</code> for better, route-specific messages.</li>
        <li>ğŸ” Use <code>Link</code> (from <code>next/link</code>) for navigation buttons.</li>
        <li>ğŸ§¯ Keep <code>error.js</code> for actual crashes, not for missing resources.</li>
      </ul>
    </section>

    <section class="footer" aria-label="Footer">
      <p><strong>Print tip:</strong> Use your browserâ€™s Print dialog and select â€œSave as PDFâ€. This page is styled for A4 and removes URL annotations for links when printing.</p>
      <p class="muted">Topic covered: Next.js App Router conventions â€” <code>not-found.js</code> and <code>notFound()</code> from <code>next/navigation</code>.</p>
    </section>
  </main>
</body>
</html>
